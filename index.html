<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Monsterbound</title>
    <meta property="og:image" content="Monsterbound.jpeg">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0X6S7QK33B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0X6S7QK33B');
    </script>
    <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
    <BedrockPassportProvider
      baseUrl="https://api.bedrockpassport.com"
      authCallbackUrl="http://<yoururl>/auth/callback"
      tenantId="orange-jk51jglon7" 
    >
    </BedrockPassportProvider>
    <div id="ui">
        <button id="storageButton">Menu/Monsters</button>
        <div id="areaDisplay">Area: Binder Town</div>
        <div id="goldCounter">Gold: 100</div>
        <div id="fpsCounter">FPS: 60</div>
    </div>
    <div id="captureUI">
        <p id="captureText">Monster Defeated! Would you like to capture it?</p>
        <p id="captureCost">Cost: 25 Gold</p>
        <p id="captureChance">Chance: 70%</p>
        <div class="capture-buttons">
            <button id="captureButton">Capture</button>
            <button id="captureDetailsButton">Details</button>
            <button id="nextTargetButton">Next Target</button>
        </div>
    </div>
    <div id="storageUI">
        <span class="close-button">&times;</span>
        <h2></h2>
        <div id="activeSlots">
            <h3 style="text-align: center;">Active Monsters</h3>
            <div id="activeMonsterList"></div>
        </div>
        <div id="storageSlots">
            <h3 style="text-align: center;">Stored Monsters</h3>
            <div class="sort-buttons">
                <button id="sortByNameButton" class="sort-button" title="Sort stored monsters alphabetically by name">Sort by Name</button>
                <button id="sortByTypeButton" class="sort-button" title="Sort stored monsters by their Monster ID number">by MonsterID#</button>
                <button id="sortByStatsButton" class="sort-button" title="Sort stored monsters by their total current stats (descending)">by Stats</button>
                <button id="sortByElementButton" class="sort-button" title="Sort stored monsters alphabetically by their current element">by Element</button>
                <button id="sortByRarityButton" class="sort-button" title="Sort stored monsters by the number of rare modifiers they have (descending)">by Rarity</button>
                <button id="sortByMaxLvlStatsButton" class="sort-button" title="Sort stored monsters by their potential total stats at max level (descending)">by MaxLvlStats</button>
            </div>
            <div id="monsterList"></div>
            <div style="text-align: center; margin-top: 15px;">
            </div>
        </div>
    </div>
    
    <div id="monsterDetailsUI">
        <span class="close-button">&times;</span>
        <h2>Monster Details</h2>
        <div id="detailsContent"></div>
    </div>
    
    <div id="chatUI"></div>
    
    <div id="welcomePopup">
        <div class="welcome-content">
            <h2>Welcome to Monsterbound!</h2>
            <p>This is a game about capturing monsters and training them. It saves and loads automatically. Be careful at the start to not get mobbed by two or more monsters. After you defeat a monster, you can capture them by tapping/clicking on the white circle that appears. You can enable and disable music in the menu. Have fun!</p>
            <button id="welcomeCloseButton">Got it!</button>
        </div>
    </div>
    
    <div id="helpButton">?</div>
    <div id="helpPopup">
        <div class="help-content">
            <span class="close-button">&times;</span>
            <h2>How to Play Monsterbound</h2>
            <div class="help-sections">
                <section>
                    <h3>Basic Controls</h3>
                    <p>• Click/tap to move your player</p>
                    <p>• Monsters automatically fight each other</p>
                    <p>• Click/tap on defeated monsters to attempt capture</p>
                    <p>• Press Q to open the menu and see your monsters</p>
                    <p>• Press M to toggle music (button in menu too)</p>
                    <p>• Press H to close and open this help screen</p>
                    <p>• Press F11 to toggle fullscreen</p>
                </section>
                <section>
                    <h3>Basic Tips</h3>
                    <p>• If your monster faints, it revives automatically</p>
                    <p>• Avoid Plant (green box) monsters at the start, they counter your Derpfish!</p>
                    <p>• Don't fight two monsters at once at the start</p>
                    <p>• Your progress saves automatically</p>
                    <p>• That's all you need to know to play, but read on for more info</p>
                </section>
                <section class="monster-explained-section">
                    <h3>Your Starting Monster</h3>
                    <img src="assets/Monsterexplained.png" alt="Monster Explained" class="monster-explained-chart">
                </section>
                <section>
                    <h3>Monster Information</h3>
                    <p>• A star after the name indicates a monster with a rare modifier. A number means it has that many. Monsters with 3 or more are very rare!</p>
                    <p>• When a monster runs out of stamina, its attacks do half damage</p>
                    <p>• The level of a monster is how strong it is, and for wild monsters also how much potential it has! Catch high level monsters and raise them to progress</p>
                </section>
                <section>
                    <h3>Elements</h3>
                    <p>• Elements each counter one other element and have some stat bonuses. Monsters with two elements get both stat bonuses, but only the top element affects combat</p>
                    <P>• Elements do 50% more damage to their countered element, and take 33% less damage from it</P>
                    <P>• For more information about elements, click the details button by a monster in the menu</P>
                </section>
                <section class="element-chart-section">
                    <img src="assets/elements.jpg" alt="Element Chart" class="element-chart">
                </section>
                <section>
                    <h3>Capturing Monsters</h3>
                    <p>• Defeat monsters to make them vulnerable to capture</p>
                    <p>• A white circle appears when a monster is ready to be captured</p>
                    <p>• Click/tap the circle to see capture options</p>
                    <p>• Each attempt costs gold and has a success chance</p>
                    <p>• Captured monster go to your storage in the menu if you don't have room in your active team</p>
                </section>
                <section>
                    <h3>Managing Your Team</h3>
                    <p>• Access your monsters through the Menu/Monsters button (or ESC)</p>
                    <p>• You can have up to 2 active monsters at a time</p>
                    <p>• Store unlimited monsters in your storage</p>
                    <p>• View detailed stats by clicking on any monster's details button</p>
                    <p>• Monsters are "in combat" for 5 seconds after taking or dealing damage</p>
                </section>
                <section>
                    <h3>How to Progress</h3>
                    <p>• The main factor in how strong a monster will be is the level you catch it at. This is called the Spawn Level of the monster, or its Potential. Keep catching higher Potential monsters to progress</p>
                    <p>• High potential monsters start off weaker at lower levels, so you'll have to help them grow</p>
                    <p>• To get to the next area with new monsters, follow the arrow that is near you</p>
                    <p>• Catch every monster type (36 total right now) to complete the game!</p>
                </section>
                <section>
                    <h3>THANKS FOR PLAYING!</h3>
                    <p>• Made in about 9 days for the Vibe Jam 2025</p>
                    <p>• I got really sick towards the end so I lost a few days and had to cut many features</p>
                    <p>• Almost everything is made using AI tools</p>
                    <p>• Game by: Nathan Lewis</p>
                    <p>• Full credits on the GitHub</p>
                </section>
            </div>
            <button id="helpCloseButton">Got it!</button>
        </div>
    </div>
    
    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.159.0/three.min.js"></script>
    
    <!-- Game Scripts -->
    <script src="js/monster_constants.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/monster.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/save-load-system.js"></script>
    <script src="js/game.js"></script>
    
    <a target="_blank" href="https://discord.gg/547meQMzAY" style="font-family: 'system-ui', sans-serif; position: fixed; bottom: -1px; right: 120px; padding: 7px; font-size: 14px; font-weight: bold; background: #fff; color: #000; text-decoration: none; z-index: 10; border-top-left-radius: 12px; z-index: 10000; border: 1px solid #fff;">Discord    !</a>
    <a target="_blank" href="https://jam.pieter.com" style="font-family: 'system-ui', sans-serif; position: fixed; bottom: -1px; right: -1px; padding: 7px; font-size: 14px; font-weight: bold; background: #fff; color: #000; text-decoration: none; z-index: 10; border-top-left-radius: 12px; z-index: 10000; border: 1px solid #fff;">🕹️ Vibe Jam 2025</a>
</body>
</html>